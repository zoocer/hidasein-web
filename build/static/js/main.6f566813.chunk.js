(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),i=a.n(o),c=(a(85),a(14)),l=a(15),s=a(17),u=a(16),m=a(18),d=a(76),p=a(31),h=(a(86),a(4)),f=a(27),g=a.n(f),b=window.location.hostname,v=-1!==b.indexOf("test"),j="";-1!==b.indexOf("localhost")&&(j="//localhost:4141");var O={isTest:v,apiDomain:j,emptyText:"-",timeFormat:"YYYY-MM-DD HH:mm:ss",dateFormat:"YYYY-MM-DD",dateFormat2:"YYYYMMDD",errMsg:"\u7cfb\u7edf\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5"},k=a(170),E=function(){return r.a.createElement(k.a,null)},y=a(41),x=a(174),C=a(176),S=a(67),w=a.n(S),N=a(175),D=a(172),M=a(173),F=a(68),Y=a.n(F),I=a(69),B=a.n(I),T=function(e){var t={img:"\ud83c\udf0d",name:"unknow"};if(e){var a=B.a.countryCode(e);t.img=a.emoji,t.name=a.name}return t},A=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"dateFormat",value:function(e){return Y()(e).format("YYYY\xb7M\xb7D HH:mm")}},{key:"render",value:function(){var e=this.props,t=e.card,a=e.classes;return r.a.createElement(D.a,{className:a.card},r.a.createElement(M.a,null,r.a.createElement(x.a,{container:!0,direction:"row",alignItems:"center"},r.a.createElement(x.a,{item:!0,xs:9},r.a.createElement("span",{className:"text-time"},this.dateFormat(t.date))),r.a.createElement(x.a,{item:!0,container:!0,xs:3,justify:"flex-end"},r.a.createElement("span",{role:"img"},T(t.code).img))),r.a.createElement(N.a,{component:"p",className:"text-content"},t.content)))}}]),t}(r.a.Component),G=Object(h.a)({card:{fontSize:14,color:"#333","& .text-time":{fontFamily:"STSongti-SC-Bold"},"& .text-content":{fontFamily:"STSongti-SC-Regular",wordBreak:"break-word"}}})(A),H=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).loadNextPage=function(){var e="".concat(O.apiDomain,"/talks"),t=a.state,n=t.page,r=t.pageSize,o=t.cards;t.loadingStatus||a.setState({loadingStatus:!0},function(){var t={page:n,pageSize:r};g.a.get(e,{params:t}).then(function(e){var t=e.data.data;a.setState({cards:y.concat(o,t),page:n+1,hasMore:t.length>=r,loadingStatus:!1},function(){new Masonry(".msnry-grid",{itemSelector:".msnry-grid-item"})})})})},a.state={page:0,pageSize:10,cards:[],hasMore:!0,loadingStatus:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.cards,a=e.hasMore,n=this.props.classes,o=r.a.createElement(k.a,{key:0});return r.a.createElement(x.a,{className:n.root},r.a.createElement(w.a,{pageStart:0,loadMore:this.loadNextPage,hasMore:a,loader:o},r.a.createElement(x.a,{container:!0,spacing:3,className:"msnry-grid"},t.map(function(e){return r.a.createElement(C.a,{key:e._id,in:!0,timeout:300},r.a.createElement(x.a,{item:!0,xs:12,md:3,className:"msnry-grid-item",style:{width:"100%"}},r.a.createElement(G,{className:n.card,card:e})))}))))}}]),t}(r.a.Component),z=Object(h.a)(function(e){return{root:{flexGrow:1,backgroundColor:"#f9f9f9",padding:"5% 10%"},card:{whiteSpace:"nowrap"}}})(H),L=a(177),R=a(70),W=a(71),q=a(178),P=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={multilined:"Controlled"},a.handleChanged=function(e){return function(t){a.setState(Object(W.a)({},e,t.target.value))}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(q.a,{multiline:!0,className:e.textField,margin:"normal",onChange:this.props.onChange,value:this.props.value})}}]),t}(r.a.Component),J=Object(h.a)(function(e){return{textField:{width:"100%","& .MuiInputBase-root":{fontSize:"2.5rem",color:"#2D0706"},"& .MuiInput-underline:before":{borderBottom:"1px solid #F1F1F1"}}}})(P),$=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onClickBtn=function(){a.props.handleClickCb()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{onClick:function(){return e.onClickBtn()},className:t.root},r.a.createElement("div",{className:"circle-bot"}),r.a.createElement("div",{className:"circle-mid"}),r.a.createElement("div",{className:"circle-top"}))}}]),t}(r.a.Component);$.defaultProps={handleClickCb:function(){}};var _=Object(h.a)(function(e){return{root:{cursor:"pointer","& .circle-bot":{backgroundColor:"#2D0806",width:"40px",height:"40px",margin:0,borderRadius:"50%"},"& .circle-mid":{backgroundColor:"#fff",width:"26px",height:"26px",margin:"-33px 0 0 7px",borderRadius:"50%"},"& .circle-top":{backgroundColor:"#2D0806",width:"20px",height:"20px",margin:"-23px 0 0 10px",borderRadius:"50%"}}}})($),K=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleClickButton=function(){var e=a.state,t=e.currentInput,n=e.loaddingStatus;if(""!==t&&!n){a.setState({loaddingStatus:!0});var r="".concat(O.apiDomain,"/talks");g.a.post(r,{content:t}).then(function(e){a.setState({loaddingStatus:!1});var t=e.data;200===t.code?(a.setState({currentInput:""}),a.props.history.push("/cardList")):alert(t.msg||O.errMsg)})}},a.state={currentInput:"",loaddingStatus:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"randomCode",value:function(){return y.sample(Object(R.getCodes)())}},{key:"handleInput",value:function(e){this.setState({currentInput:e.target.value})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.loaddingStatus;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{maxWidth:"lg",className:t.root},r.a.createElement(N.a,{className:t.title,variant:"h2"},"Hi Dasein:"),r.a.createElement("div",{className:t.inputWrap},r.a.createElement(J,{value:this.state.currentInput,onChange:function(t){return e.handleInput(t)}}),!a&&r.a.createElement("div",{className:t.sendBtn},r.a.createElement(_,{handleClickCb:function(){return e.handleClickButton()}})),a&&r.a.createElement(k.a,{className:t.sendBtn}))))}}]),t}(r.a.Component),Q=Object(h.a)(function(e){return{root:{position:"relative",top:"25vh"},title:{color:"#2D0706",fontFamily:"STSongti-SC-Regular"},inputWrap:{marginTop:"150px",position:"relative"},sendBtn:{position:"absolute",right:0,bottom:"25px"}}})(K),U=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).reqGeoApi=function(){var e="".concat(O.apiDomain,"/clientGeo");g.a.get(e).then(function(e){var t=e.data.data;a.setState({clientGeoInfo:t})})},a.state={clientGeoInfo:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.reqGeoApi()}},{key:"render",value:function(){var e=this.props.classes,t=this.state.clientGeoInfo,a=T(t&&t.country);return r.a.createElement("footer",{className:e.footer},r.a.createElement("div",{className:"container"},r.a.createElement(N.a,{variant:"body1",className:"text-version"},"\xa9 ",(new Date).getFullYear()," HiDasein."),r.a.createElement("span",{className:"country-info"},r.a.createElement("span",{role:"img"},a.img),r.a.createElement("span",null,a.name))))}}]),t}(r.a.Component),V=Object(h.a)(function(e){return{footer:{padding:e.spacing(2),marginTop:"auto",fontFamily:"PingFangSC-Regular",fontSize:14,color:"#333333","& .container":{position:"relative",padding:"0 10%"},"& .text-version":{textAlign:"center"},"& .country-info":{position:"absolute",right:"10%",bottom:0}}}})(U),X=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).reqCheckTalkedApi=function(){var e="".concat(O.apiDomain,"/checkTalked"),t=a.state.routeList;g.a.get(e).then(function(e){var n=e.data.data;t=n.talked?[{path:"/",commponent:z}]:[{path:"/",commponent:Q},{path:"/cardList",commponent:z}],a.setState({routeList:t})})},a.state={talked:!1,routeList:[{path:"/",commponent:E}]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.reqCheckTalkedApi()}},{key:"render",value:function(){var e=this.props.classes,t=this.state.routeList;return r.a.createElement(d.a,null,r.a.createElement("div",{className:e.root},r.a.createElement(p.d,null,t.map(function(e){return r.a.createElement(p.b,{key:e.path,path:e.path,exact:!0,component:e.commponent})}),r.a.createElement(p.a,{from:"*",to:"/"})),r.a.createElement(V,null)))}}]),t}(r.a.Component),Z=Object(h.a)(function(e){return{root:{display:"flex",minHeight:"100vh",flexDirection:"column",backgroundColor:"#f9f9f9"}}})(X);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},80:function(e,t,a){e.exports=a(136)},85:function(e,t,a){},86:function(e,t,a){}},[[80,1,2]]]);
//# sourceMappingURL=main.6f566813.chunk.js.map